<div class="max-w-xl mx-auto my-4 p-4 bg-white rounded-lg shadow-md">
  <!-- Post Header -->
  <div class="flex items-center justify-between">
    <div class="flex gap-2">
      <img
        class="h-10 w-10 rounded-full object-cover"
        src="https://img.freepik.com/free-photo/3d-illustration-funny-cartoon-man-with-mobile-phone_1057-44838.jpg?t=st=1737282769~exp=1737286369~hmac=0082c43c9096310ea60f8d7296f485a0c67c707ab4963332439317788f9e2afb&w=740"
        alt="User Profile"
      />
      <div>
        <p class="text-gray-500 text-sm">
          By {{ post.User.firstName }} {{ post.User.lastName }}
        </p>
        <p class="text-gray-500 text-xs">
          {{ post.uploadDate | date : "short" }}
        </p>
      </div>
    </div>
    <button
      class="p-2 text-gray-500 hover:bg-gray-200 rounded-full"
      (click)="toggleMenu()"
    >
      â‹®
    </button>

    <!-- Action Menu -->
    <div
      *ngIf="menuOpen"
      class="relative right-0 mt-2 w-32 bg-white shadow-lg rounded-md"
    >
      <button
        class="block w-full px-4 py-2 text-left text-sm hover:bg-gray-100 text-black"
        (click)="onUpdate(post.id)"
      >
        Update
      </button>
      <button
        class="block w-full px-4 py-2 text-left text-sm text-red-500 hover:bg-gray-100"
        (click)="onDelete(post.id)"
      >
        Delete
      </button>
    </div>
  </div>
  <div>
    <h2 class="text-lg font-semibold text-gray-500">{{ post.title }}</h2>
  </div>
  <!-- Post Image -->
  <div class="my-4">
    <img
      [src]="post.imageUrl"
      alt="{{ post.title }}"
      class="w-full h-48 object-cover rounded-md"
    />
  </div>

  <!-- Like and Comment Summary -->
  <div class="flex justify-between items-center">
    <p class="text-gray-600">Likes: {{ post.likeCount }}</p>
    <p class="text-gray-600 cursor-pointer" (click)="toggleComments()">
      {{ post.Comments.length }} Comments
    </p>
  </div>

  <!-- Comments Section -->
  <div *ngIf="commentsVisible" class="mt-4 max-h-32 overflow-y-auto">
    <div
      *ngFor="let comment of post.Comments"
      class="border-b border-gray-200 py-2"
    >
      <p class="text-gray-700 text-sm">{{ comment.content }}</p>
      <p class="text-gray-500 text-xs">
        By {{ comment.User.firstName }} {{ comment.User.lastName }}
      </p>
    </div>
  </div>

  <!-- Update Modal -->
  <div
    *ngIf="isEditing"
    class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50"
  >
    <div class="bg-white p-4 rounded-lg w-96 shadow-lg">
      <h3 class="text-lg font-semibold mb-4">Update Post</h3>
      <label class="block text-sm font-medium mb-1">Title</label>
      <input
        type="text"
        [(ngModel)]="updatedTitle"
        class="w-full p-2 border rounded-md mb-4"
      />
      <label class="block text-sm font-medium mb-1">Location</label>
      <input
        type="text"
        [(ngModel)]="updatedLocation"
        class="w-full p-2 border rounded-md mb-4"
      />
      <div class="flex justify-end">
        <button
          class="px-4 py-2 bg-gray-300 rounded-md mr-2"
          (click)="closeModal()"
        >
          Cancel
        </button>
        <button
          class="px-4 py-2 bg-blue-500 text-white rounded-md"
          (click)="saveUpdate()"
        >
          Save
        </button>
      </div>
    </div>
  </div>
</div>
